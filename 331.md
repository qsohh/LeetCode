## Verify Preorder Serialization of a Binary Tree

连续两个```'#'```就说明有一个节点是末端的叶子节点了。通过把一个个叶子节点换成空节点（进而在这个过程中产生的叶子也换成空节点），最后就是一个空树了。

```python
class Solution:
    def isValidSerialization(self, preorder: str) -> bool:
        stack = []
        for ele in preorder.split(','):
            while ele == '#' and stack and stack[-1] == '#':
                stack.pop()
                if not stack:
                    return False
                stack.pop()
            stack.append(ele)
        return stack == ['#']
```

直接进行一次遍历的思路可以这样做 : 每个非空节点会产生两个新分支；一个空节点会结束一个分支。开始时有一个分支，最后看是否所有分支都被一个空节点结束了（同时中间要确保分支数量不会成为负数）。
对于每个```ele```不论如何都进行一次```slot -= 1```的好处是，如果不这样的话，一开始上来就是一个```'#'```的情况会比较难处理。

```python
class Solution:
    def isValidSerialization(self, preorder: str) -> bool:
        slot = 1
        for ele in preorder.split(','):
            slot -= 1
            if slot < 0:
                return False
            if ele != '#':
                slot += 2
        return slot == 0
```
