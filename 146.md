## LRU Cache

双链表 + 字典。

```python
class DoubleNode:
    def __init__(self, key=-1, val=-1, pv=None, nt=None):
        self.key = key
        self.val = val
        self.pv = pv
        self.nt = nt

class LRUCache:
    def __init__(self, capacity: int):
        self._d = {}
        self._capacity = capacity
        self._n = 0
        self._head = DoubleNode()
        self._tail = DoubleNode(pv=self._head)
        self._head.nt = self._tail
    
    def _remove(self, key: int) -> DoubleNode:
        node = self._d[key]
        node.pv.nt = node.nt
        node.nt.pv = node.pv
        node.nt = None
        node.pv = None
        self._n -= 1
        del(self._d[key])
        return node
    
    def _add_to_tail(self, node: DoubleNode) -> None:
        node.pv = self._tail.pv
        node.nt = self._tail
        node.pv.nt = node
        self._tail.pv = node
        self._d[node.key] = node
        self._n += 1

    def get(self, key: int) -> int:
        if key in self._d:
            val = self._d[key].val
            self._add_to_tail(self._remove(key))
            return val
        return -1

    def put(self, key: int, value: int) -> None:
        if key in self._d:
            # The key exists already
            self._d[key].val = value
            self._add_to_tail(self._remove(key))
            return None
        if self._n == self._capacity:
            remove_key = self._head.nt.key
            self._remove(remove_key)
        node = DoubleNode(key, value)
        self._add_to_tail(node)
        return None

# Your LRUCache object will be instantiated and called as such:
# obj = LRUCache(capacity)
# param_1 = obj.get(key)
# obj.put(key,value)
```