## Sum of Square Numbers

大佬们表示可以用费马平方和定理的推广 ：
> 一个非负整数 c 如果能够表示为两个整数的平方和，当且仅当 c 的所有形如 4k+3 的质因子的幂均为偶数。

见 ： https://wstein.org/edu/124/lectures/lecture21/lecture21/node2.html

```python
class Solution:
    def judgeSquareSum(self, c: int) -> bool:
        fac = 1
        while fac*fac <= c:
            fac += 1
            # 这里不需要管 fac 是否是质数，事实上由于后边 c/=fac 的存在，所有遇到的合数都是不可能是 c 的因子的
            if c%fac:
                continue
            power = 0
            while c%fac == 0:
                power += 1
                c /= fac
            if (fac%4 == 3) and (power%2 != 0):
                return False
        return c%4 != 3
```

比较简单的方法还有逐个检查（可以借助一个哈希表来稍微加快一点）：

```python
class Solution:
    def judgeSquareSum(self, c: int) -> bool:
        ht = set([0])
        for i in range(int(sqrt(c)) + 1):
            ht.add(i*i)
            r = c - i*i
            if r in ht:
                return True
        return False
```

或者用 two pointers 方法也可以提升效率 ：

```python
class Solution:
    def judgeSquareSum(self, c: int) -> bool:
        left, right = 0, int(sqrt(c))
        while left <= right:
            # 这里还可以根据 c 和 right*right 来重置 left 以提升效率
            # left = int(sqrt(c - right*right))
            # 这样的话下边就不需要 left += 1 这句了。由于节省了不少运算，效率能提升好多
            cursum = left*left + right*right
            if cursum == c:
                return True
            elif cursum < c:
                left += 1
            else:
                right -= 1
        return False
```
